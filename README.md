# K-means 教学用图片颜色压缩可视化平台

## 项目简介
本项目是面向教师和教学场景设计的图片颜色压缩与K-means聚类算法可视化平台。平台集成了3D/2D可视化、参数沙盒、聚类动画、调色板演变、误差分析、教学说明、FAQ、实验报告导出等功能，适用于课堂讲解、实验演示、学生自学与作业提交。

## 主要功能

### 1. 3D颜色空间可视化（Three.js）
- 支持RGB/LAB/HSV三种颜色空间切换
- 图片像素点投影到3D立方体，动态展示分布
- 聚类过程实时显示质心移动、簇形成
- 可旋转、缩放、切换空间，科技感粒子背景

### 2. 2D算法流程图（D3.js）
- 展示K-means算法各步骤（初始化、分配、更新、收敛）
- 实时高亮当前步骤，支持悬停显示详细说明
- 与聚类动画联动，便于教学讲解

### 3. 参数沙盒与实验控制
- 颜色数量滑块（16-256）
- 初始质心策略选择（随机/k-means++）
- 距离度量切换（RGB/LAB/HSV）
- 最大迭代次数控制
- 图片上传，支持任意图片实验
- 聚类动画控制（开始、暂停、单步、回放）

### 4. 调色板演变时间轴
- 每次聚类迭代后自动快照调色板
- 时间轴可回溯历史版本，支持对比
- 点击任意快照，3D/2D可视化与参数反馈自动联动

### 5. 实时参数反馈与误差分析
- 底部面板实时展示当前迭代、惯性、质心变化量、收敛状态
- 视觉差异热力图（原图与压缩图像素差异）
- 自动计算MSE/PSNR等误差指标

### 6. 教学辅助功能
- 智能教学说明、FAQ、关键概念弹窗
- 一键导出实验报告（PDF，含参数、调色板、误差、可视化快照）
- 支持保存/分享实验场景

### 7. 视觉与动效设计
- 科技感深蓝渐变背景，毛玻璃控制面板
- Three.js粒子背景，Framer Motion平滑动画
- 响应式布局，适配教室投影/学生电脑/平板
- Inter与JetBrains Mono字体，界面美观

## 使用方法

1. **上传图片**：在右侧“参数沙盒”中上传任意图片，左侧3D区域将自动投影像素点。
2. **调整参数**：通过滑块和下拉菜单设置颜色数量、质心策略、距离度量、最大迭代次数。
3. **聚类动画**：点击“开始聚类”自动演示K-means过程，可随时暂停、单步推进、回放。
4. **观察可视化**：左侧3D区域动态展示分簇与质心，底部2D流程图同步高亮当前算法步骤。
5. **调色板与误差分析**：底部时间轴可回溯调色板历史，右侧热力图和MSE/PSNR实时反馈压缩效果。
6. **教学说明与FAQ**：右侧顶部可查看关键概念说明和常见问题解答，辅助课堂讲解。
7. **导出实验报告**：点击“导出实验报告”按钮，一键生成当前实验场景的PDF报告，便于归档、作业提交或分享。

## 运行与开发

1. 安装依赖：
   ```bash
   npm install
   ```
2. 启动开发环境：
   ```bash
   npm run dev
   ```
3. 打包发布：
   ```bash
   npm run build
   ```

## 技术栈
- React + TypeScript + Hooks
- Three.js（3D可视化/粒子背景）
- D3.js（2D流程图）
- Framer Motion（动效）
- Web Workers（K-means高效计算）
- styled-components/CSS Modules
- jspdf + html2canvas（报告导出）

## 适用场景
- 高校/中学图像处理、机器学习、数据可视化等课程
- 教师课堂演示、实验讲解
- 学生自主实验、作业报告
- 公开课、科普活动 